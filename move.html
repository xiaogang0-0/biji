<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>面向对象拖拽</title>
<style type="text/css">
  body{
    margin: 0;
  }
  .box {
    width: 100px;
    height: 100px;
    background: green;
    position: absolute;
    top: 0;
    left: 0;
  }
</style>
</head>
<body>
  <div class="box" id="box1"></div>
</body>
<script type="text/javascript">
    
  // Move('box1');
  // function Move(id){
  //     var box = document.getElementById(id);
    
  //     box.addEventListener('mousedown',Fndow);
  //     function Fndow(e){
  //           var disX= e.pageX - box.offsetLeft;
  //           var disY= e.pageY - box.offsetTop;

  //           document.addEventListener('mousemove',Fnmove);

  //           function Fnmove(e){
  //               box.style.left = e.pageX -disX +'px';
  //               box.style.top = e.pageY -disY +'px'; 
  //           }
  //           document.addEventListener('mouseup',Fnup);

  //           function Fnup(){//抬起事件 
  //              document.removeEventListener('mousemove',Fnmove);
  //              document.removeEventListener('mouseup',Fnup);
  //           }
  //       }
  //       return false;
  // }

  function Move(id){//函数类
      this.box = document.getElementById(id);
      this.disX = 0;
      this.disY = 0;

      this.init();  
  }

  Move.prototype.init = function(e){
        var _this = this;
        this.box.addEventListener('mousedown',function(e){
                _this.fndow(e);
        });   
  }
  Move.prototype.fndow = function(e){
      //var e = window.event;
      this.disX = e.pageX - this.box.offsetLeft;
      this.disY = e.pageY - this.box.offsetTop;

       var _this = this;

       

      document.addEventListener('mousemove',a);
      document.addEventListener('mouseup',c);

      function a(e){
              _this.fnmove(e);
       }

       function c(){
             _this.Fnup(a,c);
       }

      e.preventDefault();
  
  }
  Move.prototype.fnmove = function(e){
         this.box.style.left = e.pageX -this.disX +'px';
         this.box.style.top = e.pageY -this.disY +'px'; 
  } 
Move.prototype.Fnup = function(move,up){//形参
             document.removeEventListener('mousemove',move);
             document.removeEventListener('mouseup',up);
  }







var n = new Move('box1');
// console.log(n.box)
</script>
</html>